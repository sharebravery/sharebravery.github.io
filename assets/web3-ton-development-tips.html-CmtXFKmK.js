import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o}from"./app-zaYUK-qA.js";const r={};function i(p,e){return o(),a("div",null,[...e[0]||(e[0]=[n('<h1 id="web3——ton-开发注意事项" tabindex="-1"><a class="header-anchor" href="#web3——ton-开发注意事项"><span>Web3——TON 开发注意事项</span></a></h1><figure><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a16747003f04fac952586ae5d3104fc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>TON (The Open Network, 原名 Telegram Open Network) 最大的特点就是分片和异步。</p></blockquote><h2 id="核心特性" tabindex="-1"><a class="header-anchor" href="#核心特性"><span>核心特性</span></a></h2><ol><li><strong>架构差异</strong>：由于异步架构，TVM（TON Virtual Machine）与以太坊虚拟机（EVM）不兼容。</li><li><strong>地址生成</strong>：合约的地址由部署的字节码和初始数据（Initial Data）共同决定。</li></ol><h2 id="开发语言" tabindex="-1"><a class="header-anchor" href="#开发语言"><span>开发语言</span></a></h2><p>开发 TON 合约主要有三种选择：</p><ol><li><strong>Tact</strong>：简单易懂，会被编译成 FunC。适合快速上手。</li><li><strong>FunC</strong>：类 C 语言，官方主要支持的语言，功能强大。</li><li><strong>Fift</strong>：接近汇编语言，通常用于底层调试，一般不需要直接写。</li></ol><h2 id="开发避坑指南-注意事项" tabindex="-1"><a class="header-anchor" href="#开发避坑指南-注意事项"><span>开发避坑指南（注意事项）</span></a></h2><ol><li><strong>数据分散</strong>：由于分片（Sharding），数据是分散存储的。很多时候需要开发者手动聚合链上信息。</li><li><strong>竞争条件</strong>：异步调用容易导致合约的竞争条件（Race Condition），需要格外注意状态管理。</li><li><strong>钱包即合约</strong>：在 TON 上，钱包本质上也是一个合约。同一个公钥可以部署多个钱包合约实例。</li><li><strong>Gas 机制</strong>： <ul><li><strong>不退款</strong>：如果合约执行发生错误，Gas <strong>不会</strong>自动退还。</li><li><strong>手动处理</strong>：在合约调用链的末端，通常需要手动处理剩余 Gas 的返还。</li><li><strong>失败消耗</strong>：即使交易失败，Gas 依然会被消耗。</li><li><strong>上限</strong>：单个合约单次执行可消耗的最大 Gas 费为 <strong>1 TON</strong>。</li></ul></li><li><strong>存储租金</strong>：合约在链上存储数据需要支付租金。</li><li><strong>可升级性</strong>：合约代码是可以升级的。</li><li><strong>精度</strong>：TON 的代币精度通常为 <strong>9 位小数</strong>。</li></ol><h2 id="示例代码" tabindex="-1"><a class="header-anchor" href="#示例代码"><span>示例代码</span></a></h2><p>Jetton 代币合约示例：<br><a href="https://github.com/TonoxDeFi/capped-fungible-token/tree/main" target="_blank" rel="noopener noreferrer">https://github.com/TonoxDeFi/capped-fungible-token/tree/main</a></p>',12)])])}const c=t(r,[["render",i]]),g=JSON.parse('{"path":"/web3/web3-ton-development-tips.html","title":"Web3——TON 开发注意事项","lang":"zh-CN","frontmatter":{"title":"Web3——TON 开发注意事项","date":"2024-04-29T00:00:00.000Z","categories":["后端技术"],"tags":["Backend","Web3"],"description":"Web3——TON 开发注意事项 TON (The Open Network, 原名 Telegram Open Network) 最大的特点就是分片和异步。 核心特性 架构差异：由于异步架构，TVM（TON Virtual Machine）与以太坊虚拟机（EVM）不兼容。 地址生成：合约的地址由部署的字节码和初始数据（Initial Data）共同决...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Web3——TON 开发注意事项\\",\\"image\\":[\\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a16747003f04fac952586ae5d3104fc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image\\"],\\"datePublished\\":\\"2024-04-29T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-10T16:06:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"不辞远\\",\\"url\\":\\"https://github.com/sharebravery\\"}]}"],["meta",{"property":"og:url","content":"https://sharebravery.com/web3/web3-ton-development-tips.html"}],["meta",{"property":"og:site_name","content":"不辞远的分享"}],["meta",{"property":"og:title","content":"Web3——TON 开发注意事项"}],["meta",{"property":"og:description","content":"Web3——TON 开发注意事项 TON (The Open Network, 原名 Telegram Open Network) 最大的特点就是分片和异步。 核心特性 架构差异：由于异步架构，TVM（TON Virtual Machine）与以太坊虚拟机（EVM）不兼容。 地址生成：合约的地址由部署的字节码和初始数据（Initial Data）共同决..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a16747003f04fac952586ae5d3104fc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-10T16:06:55.000Z"}],["meta",{"property":"article:tag","content":"Web3"}],["meta",{"property":"article:tag","content":"Backend"}],["meta",{"property":"article:published_time","content":"2024-04-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-10T16:06:55.000Z"}]]},"git":{"createdTime":1769338908000,"updatedTime":1770739615000,"contributors":[{"name":"sharebravery","username":"sharebravery","email":"sharebravery@gmail.com","commits":4,"url":"https://github.com/sharebravery"},{"name":"Claude Sonnet 4.5","username":"","email":"noreply@anthropic.com","commits":1}]},"readingTime":{"minutes":1.58,"words":473},"filePathRelative":"web3/web3-ton-development-tips.md","excerpt":"\\n<figure><img src=\\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a16747003f04fac952586ae5d3104fc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image\\" alt=\\"\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption></figcaption></figure>\\n<blockquote>\\n<p>TON (The Open Network, 原名 Telegram Open Network) 最大的特点就是分片和异步。</p>\\n</blockquote>","autoDesc":true}');export{c as comp,g as data};
