import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,e as i,f as a,d as t,a as h,r as p,o as k}from"./app-CRoltZOB.js";const d={};function r(o,s){const e=p("Mermaid");return k(),l("div",null,[s[0]||(s[0]=i("h1",{id:"linux-gpio-入门-点个灯",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#linux-gpio-入门-点个灯"},[i("span",null,"Linux GPIO 入门：点个灯")])],-1)),s[1]||(s[1]=i("p",null,"嵌入式开发的 Hello World 就是点灯。能控制一个 LED 的亮灭，就能控制继电器、电机。",-1)),s[2]||(s[2]=i("p",null,'Linux 有句话："一切皆文件"。连硬件引脚也是文件。我们可以像写文本文件一样，通过读写特定的系统文件来控制电压高低。',-1)),s[3]||(s[3]=i("h2",{id:"核心流程-sysfs-接口",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#核心流程-sysfs-接口"},[i("span",null,"核心流程：sysfs 接口")])],-1)),s[4]||(s[4]=i("p",null,[a("我们用 "),i("code",null,"sysfs"),a(" 接口操作 GPIO。修改文件系统里的配置，直接指挥硬件干活。")],-1)),t(e,{code:"eJxLL0osyFDwCeJSAALH6OdTVjzr2P585a6X07fEKujq2tU8bZv5bFr7k93bahScNIori9OKFSD855t3P989XxOs0Qms9OXKjU+7VrzY0Aw0pUbBOfppW+uzBTughoHVOYPVPetb/rRj29P1LU/Xzng6E6jURUPDPcDTX+HpnqkvWmZpQsx0Aat9PmXrs62NLxtmPZu2tkbBNdrH1SWWCwBLoVag"}),s[5]||(s[5]=h(`<h2 id="实战-五步点灯" tabindex="-1"><a class="header-anchor" href="#实战-五步点灯"><span>实战：五步点灯</span></a></h2><p>假设我们要控制 <code>GPIO53</code>（对应的物理引脚需查阅开发板手册）。</p><h3 id="_1-export-导出引脚" tabindex="-1"><a class="header-anchor" href="#_1-export-导出引脚"><span>1. Export 导出引脚</span></a></h3><p>告诉内核：&quot;这个引脚归我管了&quot;。这会在 <code>/sys/class/gpio/</code> 下生成一个新文件夹 <code>gpio53</code>。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 导出 53 号引脚</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/export</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-设置方向" tabindex="-1"><a class="header-anchor" href="#_2-设置方向"><span>2. 设置方向</span></a></h3><p>引脚是用来读（输入，如按钮）还是写（输出，如 LED）？这里我们要控制 LED，所以是输出。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置为输出模式</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;out&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio53/direction</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-点亮-led" tabindex="-1"><a class="header-anchor" href="#_3-点亮-led"><span>3. 点亮 LED</span></a></h3><p>写入 <code>1</code> 代表高电平（通常是 3.3V 或 1.8V），LED 亮起。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 高电平，LED 亮</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio53/value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-熄灭-led" tabindex="-1"><a class="header-anchor" href="#_4-熄灭-led"><span>4. 熄灭 LED</span></a></h3><p>写入 <code>0</code> 代表低电平（GND），LED 熄灭。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 低电平，LED 灭</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio53/value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-unexport-释放引脚" tabindex="-1"><a class="header-anchor" href="#_5-unexport-释放引脚"><span>5. Unexport 释放引脚</span></a></h3><p>用完记得释放资源。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 释放引脚</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/unexport</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="完整脚本" tabindex="-1"><a class="header-anchor" href="#完整脚本"><span>完整脚本</span></a></h2><p>保存为 <code>blink.sh</code>，修改 <code>PIN_NUM</code> 即可使用。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PIN_NUM</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">53</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Testing GPIO </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PIN_NUM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">...&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. Export</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PIN_NUM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/export</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dev/null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. Set Output</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;out&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PIN_NUM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/direction</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3. Blink 3 times</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1..3}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ON&quot;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PIN_NUM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/value</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sleep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;OFF&quot;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/gpio</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PIN_NUM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/value</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sleep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 4. Cleanup</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PIN_NUM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/class/gpio/unexport</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dev/null</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Done!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="性能问题" tabindex="-1"><a class="header-anchor" href="#性能问题"><span>性能问题</span></a></h2><p><code>sysfs</code>（echo/cat）方式简单直观，适合 shell 脚本和调试。但在高性能场景下（比如 PWM 波形或快速翻转 IO），效率极低。每次操作都涉及文件系统 IO 和用户态/内核态切换。</p><p>正经的 C/C++ 程序推荐用 <code>libgpiod</code> 或者直接操作寄存器（mmap）。但如果只是想点个灯，<code>echo 1</code> 足够了。</p>`,23))])}const y=n(d,[["render",r]]),u=JSON.parse('{"path":"/tech/hardware/linux-gpio-guide.html","title":"上帝说要有光","lang":"zh-CN","frontmatter":{"title":"上帝说要有光","date":"2025-06-11T00:00:00.000Z","categories":["硬件与系统"],"tags":["Linux","GPIO"],"description":"Linux GPIO 入门：点个灯 嵌入式开发的 Hello World 就是点灯。能控制一个 LED 的亮灭，就能控制继电器、电机。 Linux 有句话：\\"一切皆文件\\"。连硬件引脚也是文件。我们可以像写文本文件一样，通过读写特定的系统文件来控制电压高低。 核心流程：sysfs 接口 我们用 sysfs 接口操作 GPIO。修改文件系统里的配置，直接指...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"上帝说要有光\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-06-11T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-08T06:53:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"不辞远\\",\\"url\\":\\"https://github.com/sharebravery\\"}]}"],["meta",{"property":"og:url","content":"https://sharebravery.com/tech/hardware/linux-gpio-guide.html"}],["meta",{"property":"og:site_name","content":"不辞远的分享"}],["meta",{"property":"og:title","content":"上帝说要有光"}],["meta",{"property":"og:description","content":"Linux GPIO 入门：点个灯 嵌入式开发的 Hello World 就是点灯。能控制一个 LED 的亮灭，就能控制继电器、电机。 Linux 有句话：\\"一切皆文件\\"。连硬件引脚也是文件。我们可以像写文本文件一样，通过读写特定的系统文件来控制电压高低。 核心流程：sysfs 接口 我们用 sysfs 接口操作 GPIO。修改文件系统里的配置，直接指..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-08T06:53:18.000Z"}],["meta",{"property":"article:tag","content":"GPIO"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2025-06-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-08T06:53:18.000Z"}]]},"git":{"createdTime":1770533598000,"updatedTime":1770533598000,"contributors":[{"name":"sharebravery","username":"sharebravery","email":"sharebravery@gmail.com","commits":1,"url":"https://github.com/sharebravery"}]},"readingTime":{"minutes":1.89,"words":567},"filePathRelative":"tech/hardware/linux-gpio-guide.md","excerpt":"\\n<p>嵌入式开发的 Hello World 就是点灯。能控制一个 LED 的亮灭，就能控制继电器、电机。</p>\\n<p>Linux 有句话：\\"一切皆文件\\"。连硬件引脚也是文件。我们可以像写文本文件一样，通过读写特定的系统文件来控制电压高低。</p>\\n<h2>核心流程：sysfs 接口</h2>\\n<p>我们用 <code>sysfs</code> 接口操作 GPIO。修改文件系统里的配置，直接指挥硬件干活。</p>\\n<h2>实战：五步点灯</h2>\\n<p>假设我们要控制 <code>GPIO53</code>（对应的物理引脚需查阅开发板手册）。</p>\\n<h3>1. Export 导出引脚</h3>","autoDesc":true}');export{y as comp,u as data};
