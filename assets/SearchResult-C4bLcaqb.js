import{f as K,u as N,g as X,h as Z,j as ee,t as ae,i as te,k as x,l as C,m as se,n as Ee,p as e,s as le,R as q,q as re,v as oe,x as ie,y as ne,z as Be,A as j,B as I,C as ce,D as he,E as ue,F as Ae,L as de,G as me,H as ve,I as ge,J as pe,K as z,M}from"./app-DKKcg95-.js";const ye=["/","/intro.html","/backend/","/backend/polymarket-trading-bot.html","/backend/web3-ton-development-tips.html","/hardware/1248-binary-conversion.html","/hardware/","/hardware/linux-gpio-guide.html","/hardware/modbus-rs485-guide.html","/devops/","/devops/ccaa-offline-downloader.html","/devops/frontend-container-config-injection.html","/devops/gitlab-runner-setup.html","/devops/linux-socket-and-process.html","/devops/mediawiki-setup.html","/devops/static-vs-dynamic-libraries.html","/devops/weengine-on-ecs.html","/frontend/","/frontend/monaco-editor-websocket-debug.html","/tools/","/tools/git-panic-room.html","/tools/package-manager-battle.html","/zh/","/zh/intro.html","/zh/%E7%A9%BA%E9%97%B4%E7%AB%99.html","/zh/backend/","/zh/backend/Web3%E2%80%94%E2%80%94TON%20%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.html","/zh/backend/node%20%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4%EF%BC%88nestjs%E3%80%81IP%20%E4%BB%A3%E7%90%86%E6%B1%A0%EF%BC%89.html","/zh/backend/%E4%BD%BF%E7%94%A8%20node%EF%BC%88nestjs%EF%BC%89%E8%BF%9E%E6%8E%A5%20mongodb.html","/zh/backend/%E9%98%BF%E9%87%8C%E4%BA%91%20ECS%E2%80%94%E2%80%94%E6%90%AD%E5%BB%BA%20Java%20Web%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html","/zh/backend/%E9%A2%84%E6%B5%8B%E5%B8%82%E5%9C%BA%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%8F%91%20Polymarket%20%E8%B7%9F%E5%8D%95%20Bot.html","/zh/devops/CCAA%20%E6%89%93%E9%80%A0%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E6%9C%8D%E5%8A%A1%E5%99%A8.html","/zh/devops/Linux%20%E4%B8%8B%E7%9A%84%20Socket%20%E5%92%8C%E8%BF%9B%E7%A8%8B%E4%BD%BF%E7%94%A8.html","/zh/devops/","/zh/devops/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%20GitLab%20%E5%92%8C%20GitLab%20Runner%20%E5%B9%B6%E9%85%8D%E7%BD%AE%20GitLab%20Pages.html","/zh/devops/%E5%89%8D%E7%AB%AF%E5%AE%B9%E5%99%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E6%B3%A8%E5%85%A5%E5%85%A8%E6%94%BB%E7%95%A5%20(Docker-K8s)%20%F0%9F%90%B3%F0%9F%9A%80.html","/zh/devops/%E5%9F%BA%E4%BA%8E%20ECS%20%E6%9E%84%E5%BB%BA%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%20WeEngine.html","/zh/devops/%E6%90%AD%E5%BB%BA%20Wiki%20%E7%9F%A5%E8%AF%86%E5%BA%93%20MediaWiki.html","/zh/devops/%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94.html","/zh/frontend/","/zh/frontend/SVG%20%E6%B6%82%E9%B8%A6%E7%BB%84%E4%BB%B6.html","/zh/frontend/%E5%89%8D%E7%AB%AF%E8%A1%A8%E6%A0%BC%E5%AF%BC%E5%87%BA%E5%90%88%E5%B9%B6%E4%B8%80.html","/zh/frontend/%E5%89%8D%E7%AB%AF%E8%A1%A8%E6%A0%BC%E5%AF%BC%E5%87%BA%E5%90%88%E5%B9%B6%E4%B8%89.html","/zh/frontend/%E5%89%8D%E7%AB%AF%E8%A1%A8%E6%A0%BC%E5%AF%BC%E5%87%BA%E5%90%88%E5%B9%B6%E4%BA%8C.html","/zh/frontend/%E5%9C%A8%E7%BA%BF%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%20Monaco%20Editor%E3%80%81WebSocket%20%E5%9C%A8%E7%BA%BF%E8%B0%83%E8%AF%95.html","/zh/hardware/1248%20%E8%BD%AC%E6%8D%A2%E6%B3%95%EF%BC%9A%E5%BF%AB%E6%8D%B7%E5%BF%83%E8%BD%AC%E4%BA%8C%E8%BF%9B%E5%88%B6.html","/zh/hardware/","/zh/hardware/RS485%20%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%20-%20%E7%AE%80%E6%98%93%E6%8C%87%E5%8D%97%E4%B8%8E%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B.html","/zh/hardware/%E4%BD%BF%E7%94%A8%20Hyper-V%20%E8%BF%9B%E8%A1%8C%E9%AB%98%E6%95%88%E5%B5%8C%E5%85%A5%E5%BC%8F%20Linux%20%E5%BC%80%E5%8F%91.html","/zh/hardware/%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%A4%9A%E6%9C%BA%E5%8D%8F%E5%90%8C%E5%B7%A1%E6%A3%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html","/zh/hardware/%E5%88%A9%E7%94%A8%20RS485%20%E5%AE%9E%E7%8E%B0%20Modbus%20%E9%80%9A%E4%BF%A1%E7%9A%84%E5%AE%8C%E6%95%B4%E6%AD%A5%E9%AA%A4.html","/zh/hardware/%E6%8E%A2%E7%B4%A2%20IEC%2061499%EF%BC%9A%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96%E7%9A%84%E5%88%9B%E6%96%B0%E4%B9%8B%E8%B7%AF.html","/zh/hardware/%E9%BB%91%E8%8B%B9%E6%9E%9C%20(Hackintosh)%20%E7%AE%80%E5%8D%95%E6%AD%A5%E9%AA%A4%E6%95%99%E7%A8%8B.html","/zh/hardware/%F0%9F%92%A1%20%E4%B8%8A%E5%B8%9D%E8%AF%B4%E8%A6%81%E6%9C%89%E5%85%89%EF%BC%9ALinux%20GPIO%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97.html","/zh/tools/","/zh/tools/%E5%86%99%E4%BD%9C%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%A4%8D%E5%88%BB.html","/zh/tools/%F0%9F%93%A6%20%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%A4%A7%E4%B9%B1%E6%96%97%EF%BC%9A%E7%BB%88%E6%9E%81%E9%80%9F%E6%9F%A5%E8%A1%A8.html","/zh/tools/%F0%9F%9A%91%20Git%20%E5%B8%B8%E7%94%A8%E6%89%8B%E5%86%8C.html","/404.html","/category/","/category/backend/","/category/hardware-_-systems/","/category/hardware-_-system/","/category/devops/","/category/frontend/","/category/productivity-tools/","/zh/category/","/zh/category/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/","/zh/category/devops/","/zh/category/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/","/zh/category/%E7%A1%AC%E4%BB%B6%E4%B8%8E%E7%B3%BB%E7%BB%9F/","/zh/category/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/","/tag/","/tag/backend/","/tag/web3/","/tag/polymarket/","/tag/hardware/","/tag/linux/","/tag/gpio/","/tag/devops/","/tag/docker/","/tag/kubernetes/","/tag/gitlab/","/tag/git/","/tag/vue.js/","/tag/monaco-editor/","/tag/websockets/","/tag/tools/","/zh/tag/","/zh/tag/backend/","/zh/tag/web3/","/zh/tag/node.js/","/zh/tag/nestjs/","/zh/tag/mongodb/","/zh/tag/java/","/zh/tag/polymarket/","/zh/tag/devops/","/zh/tag/linux/","/zh/tag/gitlab/","/zh/tag/git/","/zh/tag/docker/","/zh/tag/kubernetes/","/zh/tag/frontend/","/zh/tag/ide/","/zh/tag/hardware/","/zh/tag/hackintosh/","/zh/tag/gpio/","/zh/tag/tools/","/article/","/zh/article/","/star/","/zh/star/","/timeline/","/zh/timeline/"],Fe="SLIMSEARCH_QUERY_HISTORY",v=M(Fe,[]),Ce=()=>{const{queryHistoryCount:E}=z;return{enabled:E>0,queryHistories:v,addQueryHistory:i=>{v.value=Array.from(new Set([i,...v.value.slice(0,E-1)]))},removeQueryHistory:i=>{v.value=[...v.value.slice(0,i),...v.value.slice(i+1)]}}},S=E=>ye[E.id]+("anchor"in E?`#${E.anchor}`:""),ze="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:$}=z,g=M(ze,[]),be=()=>({enabled:$>0,resultHistories:g,addResultHistory:o=>{{const i={link:S(o),display:o.display};"header"in o&&(i.header=o.header),g.value=[i,...g.value.slice(0,$-1)]}},removeResultHistory:o=>{g.value=[...g.value.slice(0,o),...g.value.slice(o+1)]}}),ke=E=>{const{page:o,routeLocale:i}=ce(),b=he(),l=x(0),p=C(()=>l.value>0),c=ue([]);return Ae(()=>{const{search:k,terminate:A}=de(),y=pe(d=>{const{resultsFilter:D=s=>s,querySplitter:m,suggestionsFilter:R,...r}=b.value;d?(l.value+=1,k(d,i.value,r).then(s=>D(s,d,i.value,o.value)).then(s=>{l.value-=1,c.value=s}).catch(s=>{console.warn(s),l.value-=1,l.value||(c.value=[])})):c.value=[]},z.searchDelay-z.suggestDelay,{maxWait:5e3});me([E,i],([d])=>y(d.join(" "))),ve(()=>{A()})}),{isSearching:p,results:c}};var we=K({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(E,{emit:o}){const i=N(),b=X(),l=Z(ee),{addQueryHistory:p,queryHistories:c,removeQueryHistory:k}=Ce(),{resultHistories:A,addResultHistory:y,removeResultHistory:d}=be(),D=ae(E,"queries"),{results:m,isSearching:R}=ke(D),r=te({isQuery:!0,index:0}),s=x(0),h=x(0),L=C(()=>c.value.length>0||A.value.length>0),w=C(()=>m.value.length>0),f=C(()=>m.value[s.value]||null),G=()=>{const{isQuery:a,index:t}=r;t===0?(r.isQuery=!a,r.index=a?A.value.length-1:c.value.length-1):r.index=t-1},P=()=>{const{isQuery:a,index:t}=r;t===(a?c.value.length-1:A.value.length-1)?(r.isQuery=!a,r.index=0):r.index=t+1},T=()=>{s.value=s.value>0?s.value-1:m.value.length-1,h.value=f.value.contents.length-1},W=()=>{s.value=s.value<m.value.length-1?s.value+1:0,h.value=0},_=()=>{h.value<f.value.contents.length-1?h.value+=1:W()},O=()=>{h.value>0?h.value-=1:T()},H=a=>a.map(t=>ge(t)?t:e(t[0],t[1])),U=a=>{if(a.type==="customField"){const t=ne[a.index]||"$content",[u,n=""]=Be(t)?t[b.value].split("$content"):t.split("$content");return a.display.map(B=>e("div",H([u,...B,n])))}return a.display.map(t=>e("div",H(t)))},F=()=>{s.value=0,h.value=0,o("updateQuery",""),o("close")},V=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},l.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},c.value.map((a,t)=>{const u=r.isQuery&&r.index===t;return e("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u,onClick:()=>{o("updateQuery",a)}},e("div",[e(j,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},a),e("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),k(t)}})]))}))])),Y=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},l.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},A.value.map((a,t)=>{const u=!r.isQuery&&r.index===t;return e("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u},e(q,{to:a.link,onClick:()=>{F()}},()=>[e(j,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[a.header?e("div",{class:"slimsearch-record-content-header"},a.header):null,e("div",a.display.map(n=>H(n)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),d(t)}})]))}))]));return se("keydown",a=>{if(E.isFocusing){if(w.value){if(a.key==="ArrowUp")O();else if(a.key==="ArrowDown")_();else if(a.key==="Enter"){const t=f.value.contents[h.value];p(E.queries.join(" ")),y(t),i.push(S(t)),F()}}else if(a.key==="ArrowUp")G();else if(a.key==="ArrowDown")P();else if(a.key==="Enter"){const{index:t}=r;r.isQuery?(a.preventDefault(),o("updateQuery",c.value[t])):(i.push(A.value[t].link),F())}}}),Ee([s,h],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:E.queries.length?!w.value:!L.value}]},E.queries.length?R.value?e(le,{hint:l.value.searching}):w.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},m.value.map(({title:a,contents:t},u)=>{const n=s.value===u;return e("div",{class:["slimsearch-record",{active:n}],role:"group","aria-selected":n},[e("div",{class:"slimsearch-record-title"},a||l.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},t.map((B,J)=>{const Q=n&&h.value===J;return e("li",{class:["slimsearch-record-matches",{active:Q}],role:"option","aria-selected":Q},e(q,{to:S(B),onClick:()=>{p(E.queries.join(" ")),y(B),F()}},()=>[B.type==="text"?null:e(B.type==="title"?re:B.type==="heading"?oe:ie,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[B.type==="text"&&B.header?e("div",{class:"slimsearch-record-content-header"},B.header):null,e("div",U(B))])]))}))])})):l.value.emptyResult:L.value?[V(),Y()]:l.value.emptyHistory)}});export{we as default};
