import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as t}from"./app-dlAKgt0M.js";const n="/assets/01-flowchart-arbitrage-pipeline-yYlqAdkG.png",l="/assets/02-framework-pricing-model-CrA6v4oP.png",p="/assets/03-framework-bilateral-structure-CjfC8b5t.png",r="/assets/04-framework-risk-control-DhyxBk18.png",h={};function k(d,i){return t(),a("div",null,[...i[0]||(i[0]=[e('<h1 id="polymarket-量化交易实战-九-币安价格驱动的套利策略" tabindex="-1"><a class="header-anchor" href="#polymarket-量化交易实战-九-币安价格驱动的套利策略"><span>Polymarket 量化交易实战（九）：币安价格驱动的套利策略</span></a></h1><p>两个市场在交易同一件事，却给出不同价格，这就是套利窗口。</p><p>在加密相关题材里，这件事发生得很频繁：币安先完成价格发现，预测市场后吸收信息。</p><p>所以这套策略的核心不是“预测方向”，而是利用两者的<strong>吸收速度差</strong>。</p><figure><img src="'+n+`" alt="币安价格驱动的套利流程" tabindex="0" loading="lazy"><figcaption>币安价格驱动的套利流程</figcaption></figure><h2 id="先讲理论-为什么这个策略会成立" tabindex="-1"><a class="header-anchor" href="#先讲理论-为什么这个策略会成立"><span>先讲理论：为什么这个策略会成立</span></a></h2><p>可以把它写成一句话：</p><p><strong>可交易错价 = 外部市场价格发现速度 - 预测市场价格吸收速度</strong></p><p>币安这种高流动性市场负责“先定价”，预测市场负责“后定价”。只要这段时滞稳定存在，错价窗口就会反复出现。</p><p>但这不等于“无风险套利”。</p><p>策略成立还需要三个条件同时满足：</p><ul><li>外部锚价格可观测、稳定且更新足够快</li><li>你的执行链路延迟与滑点小于窗口宽度</li><li>双边头寸可以在一致规则下回收价值</li></ul><p>这也是实盘里最容易被忽略的一点：它是统计优势，不是免费午餐。</p><h2 id="为什么选币安作为外部价格锚" tabindex="-1"><a class="header-anchor" href="#为什么选币安作为外部价格锚"><span>为什么选币安作为外部价格锚</span></a></h2><p>币安的盘口深、更新快、噪声相对可控，对 BTC 这类标的更接近“即时共识价”。</p><p>预测市场恰好反过来：盘口薄、撮合慢，突发波动时更容易出现滞后。</p><p>两者放在一起，就形成了可利用的信息差。</p><h2 id="价格源要先做稳-rest-初始化-ws-持续更新" tabindex="-1"><a class="header-anchor" href="#价格源要先做稳-rest-初始化-ws-持续更新"><span>价格源要先做稳：REST 初始化 + WS 持续更新</span></a></h2><p>这个组合本身没问题，关键是你怎么用。</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1) 冷启动：REST 拿初始盘口</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">resp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> requests.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;https://api.binance.com/api/v3/ticker/bookTicker&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">    params</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;symbol&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;BTCUSDT&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bid, ask </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(resp[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bidPrice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]), </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(resp[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;askPrice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mid_price </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (bid </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ask) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2) 实时阶段：WS 持续更新</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># wss://stream.binance.com:9443/ws/btcusdt@bookTicker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>REST 解决的是“启动时盲飞”，WS 解决的是“持续低延迟”。</p><p>需要补一条边界：这里用的是 <code>bookTicker</code> 级别数据，适合做信号锚，不等于完整深度撮合视角。</p><h2 id="定价模型-先可解释-再追求复杂" tabindex="-1"><a class="header-anchor" href="#定价模型-先可解释-再追求复杂"><span>定价模型：先可解释，再追求复杂</span></a></h2><p>实盘里，可解释模型更容易调参与排错。</p><p>一个够用版本是线性映射：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fair_price </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> poly_base </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (btc_now </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> btc_base) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> delta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>delta</code> 的语义很直接：BTC 每波动 1 美元，预测市场理论上该变动多少。</p><p>这在代码里对应 <code>binanceDelta</code>。参数不是越大越灵敏越好，过大只会把噪声误判成信号。</p><p>另一个现实问题是结构性偏移。市场可能长期高估或低估几分，这时需要 EMA 吸收偏差：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bias </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> market_mid </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> model_fair</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ema_bias </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> alpha </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bias </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> alpha) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ema_bias</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">adjusted_fair </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fair_price </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ema_bias</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这在代码里对应动态 <code>offset</code>。它的作用是让模型跟市场重新对齐，而不是频繁“自信但错误”地触发交易。</p><figure><img src="`+l+`" alt="定价模型：线性映射 + EMA偏移" tabindex="0" loading="lazy"><figcaption>定价模型：线性映射 + EMA偏移</figcaption></figure><h2 id="触发逻辑-过滤噪声-只做显著错价" tabindex="-1"><a class="header-anchor" href="#触发逻辑-过滤噪声-只做显著错价"><span>触发逻辑：过滤噪声，只做显著错价</span></a></h2><p>公平价算出来后，关键是定义“什么叫值得做”。</p><p>常用规则是安全价与当前最优买价的比较：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">safe_buy </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> adjusted_fair </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> margin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> safe_buy </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> best_bid </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> threshold:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    execute_buy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>margin</code> 负责预留安全空间，<code>threshold</code> 负责过滤噪声区间。</p><p>实盘里这不是单腿策略。Yes/No 两侧会各自计算触发，再在执行层做一致性约束（比如批量提交、部分失败补偿）。</p><h2 id="双边结构真正要看的是净收益-不是口号" tabindex="-1"><a class="header-anchor" href="#双边结构真正要看的是净收益-不是口号"><span>双边结构真正要看的是净收益，不是口号</span></a></h2><p>Yes/No 互补没错，但“<code>Yes + No &lt; 1</code> 就稳赚”是常见误读。</p><p>更准确的判断是：</p><p><code>净收益 = 1 - (Yes成本 + No成本) - 交易费用 - 执行损耗</code></p><p>执行损耗包括滑点、单腿成交导致的未对冲暴露、撤单重挂损耗等。</p><p>所以 <code>成本 &lt; 1</code> 只是毛收益前提，不是净收益承诺。</p><blockquote><p>【注：<code>place_orders_batch</code> 可以压缩双腿时序误差，但不是原子提交，必须处理“部分成功、部分失败”。】</p></blockquote><figure><img src="`+p+'" alt="双边套利：Yes + No = 1.00" tabindex="0" loading="lazy"><figcaption>双边套利：Yes + No = 1.00</figcaption></figure><h2 id="风控不是附加模块-是策略本体" tabindex="-1"><a class="header-anchor" href="#风控不是附加模块-是策略本体"><span>风控不是附加模块，是策略本体</span></a></h2><p>这类策略最常见的失败，不是“没机会”，而是“在错误时机执行”。</p><p>我通常盯三层：</p><ul><li>价格突变保护：外部价格跳变过大，暂停对应方向挂单</li><li>库存敞口保护：单边库存过重，停止同向加仓</li><li>安全限价保护：挂单价不能越过模型允许区间</li></ul><p>在我的实现里还有一条硬约束：当双边买入价格和过高（例如接近 <code>0.995</code>）时直接跳过，防止“看起来在套利，实际上在让利”。</p><figure><img src="'+r+'" alt="三重风控防护体系" tabindex="0" loading="lazy"><figcaption>三重风控防护体系</figcaption></figure><h2 id="上线后怎么判断策略在变差" tabindex="-1"><a class="header-anchor" href="#上线后怎么判断策略在变差"><span>上线后怎么判断策略在变差</span></a></h2><p>不用盯一堆参数，盯住三个指标就够了：</p><ul><li>模型价与盘口价的偏离是否还持续存在</li><li>双腿成交后的库存是否能回归平衡</li><li>风控触发次数是否异常上升</li></ul><p>第三个最关键。</p><p>如果风控触发突然增多，通常不是“机会变多”，而是模型失配或执行质量下降。这时候应该先降频、重校准，再决定是否恢复交易强度。</p><h2 id="最后" tabindex="-1"><a class="header-anchor" href="#最后"><span>最后</span></a></h2><p>这套策略不是“猜涨跌”，而是“做价格传导”。</p><p>市场快慢差还在，它就有价值；快慢差消失，它就该停。</p><hr><p>【注：关于费用与返点】Polymarket 的 taker fee / maker rebates 规则会随时间和市场类型调整。不要把历史比例硬编码成长期假设，务必按当期官方规则校准。<br> 参考：</p><ul><li><a href="https://docs.polymarket.com/developers/rewards/overview" target="_blank" rel="noopener noreferrer">https://docs.polymarket.com/developers/rewards/overview</a></li><li><a href="https://docs.polymarket.com/developers/rewards/fees-and-rebates" target="_blank" rel="noopener noreferrer">https://docs.polymarket.com/developers/rewards/fees-and-rebates</a></li></ul>',63)])])}const g=s(h,[["render",k]]),y=JSON.parse('{"path":"/web3/polymarket/polymarket-binance-arbitrage.html","title":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略","lang":"zh-CN","frontmatter":{"title":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略","shortTitle":"币安驱动套利","date":"2025-11-22T00:00:00.000Z","categories":["量化交易","Polymarket"],"tags":["Python","Web3","套利"],"order":10,"cover":"/covers/polymarket/polymarket-binance-arbitrage.png","description":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略 两个市场在交易同一件事，却给出不同价格，这就是套利窗口。 在加密相关题材里，这件事发生得很频繁：币安先完成价格发现，预测市场后吸收信息。 所以这套策略的核心不是“预测方向”，而是利用两者的吸收速度差。 币安价格驱动的套利流程币安价格驱动的套利流程 先讲理论：为什么这个策略会成立 可以把它...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Polymarket 量化交易实战（九）：币安价格驱动的套利策略\\",\\"image\\":[\\"https://sharebravery.com/covers/polymarket/polymarket-binance-arbitrage.png\\"],\\"datePublished\\":\\"2025-11-22T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-14T16:05:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"不辞远\\",\\"url\\":\\"https://github.com/sharebravery\\"}]}"],["meta",{"property":"og:url","content":"https://sharebravery.com/web3/polymarket/polymarket-binance-arbitrage.html"}],["meta",{"property":"og:site_name","content":"不辞远的分享"}],["meta",{"property":"og:title","content":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略"}],["meta",{"property":"og:description","content":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略 两个市场在交易同一件事，却给出不同价格，这就是套利窗口。 在加密相关题材里，这件事发生得很频繁：币安先完成价格发现，预测市场后吸收信息。 所以这套策略的核心不是“预测方向”，而是利用两者的吸收速度差。 币安价格驱动的套利流程币安价格驱动的套利流程 先讲理论：为什么这个策略会成立 可以把它..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://sharebravery.com/covers/polymarket/polymarket-binance-arbitrage.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-14T16:05:18.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://sharebravery.com/covers/polymarket/polymarket-binance-arbitrage.png"}],["meta",{"name":"twitter:image:alt","content":"Polymarket 量化交易实战（九）：币安价格驱动的套利策略"}],["meta",{"property":"article:tag","content":"套利"}],["meta",{"property":"article:tag","content":"Web3"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:published_time","content":"2025-11-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-14T16:05:18.000Z"}]]},"git":{"createdTime":1770533598000,"updatedTime":1771085118000,"contributors":[{"name":"sharebravery","username":"sharebravery","email":"sharebravery@gmail.com","commits":3,"url":"https://github.com/sharebravery"}]},"readingTime":{"minutes":4.83,"words":1449},"filePathRelative":"web3/polymarket/polymarket-binance-arbitrage.md","excerpt":"\\n<p>两个市场在交易同一件事，却给出不同价格，这就是套利窗口。</p>\\n<p>在加密相关题材里，这件事发生得很频繁：币安先完成价格发现，预测市场后吸收信息。</p>\\n<p>所以这套策略的核心不是“预测方向”，而是利用两者的<strong>吸收速度差</strong>。</p>\\n<figure><figcaption>币安价格驱动的套利流程</figcaption></figure>\\n<h2>先讲理论：为什么这个策略会成立</h2>\\n<p>可以把它写成一句话：</p>\\n<p><strong>可交易错价 = 外部市场价格发现速度 - 预测市场价格吸收速度</strong></p>\\n<p>币安这种高流动性市场负责“先定价”，预测市场负责“后定价”。只要这段时滞稳定存在，错价窗口就会反复出现。</p>","autoDesc":true}');export{g as comp,y as data};
