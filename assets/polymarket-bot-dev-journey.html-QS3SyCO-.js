import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as a}from"./app-D1YW4RtU.js";const n="/assets/01-timeline-latency-evolution-BiB0J457.png",s="/assets/02-comparison-taker-vs-maker-BTGA3aDG.png",p={};function i(l,e){return a(),o("div",null,[...e[0]||(e[0]=[r('<h1 id="polymarket-量化交易实战-五-bot-开发纪实" tabindex="-1"><a class="header-anchor" href="#polymarket-量化交易实战-五-bot-开发纪实"><span>Polymarket 量化交易实战（五）：Bot 开发纪实</span></a></h1><p><strong>从零开始。</strong></p><p>这是我开发 Polymarket 交易机器人的历程。<br> 从一个只能“看天吃饭”的 Python 轮询脚本，进化成基于 Docker 的毫秒级高频做市系统。</p><p>这期间，我删掉的代码比留下的多。</p><h4 id="阶段一-投机者的幻想-v1" tabindex="-1"><a class="header-anchor" href="#阶段一-投机者的幻想-v1"><span>阶段一：投机者的幻想 (V1)</span></a></h4><figure><img src="'+n+'" alt="Bot Evolution Timeline" tabindex="0" loading="lazy"><figcaption>Bot Evolution Timeline</figcaption></figure><p>一切始于一个简单的想法：“跟着聪明钱买不就行了？”</p><p>V1 的逻辑非常朴素：</p><ol><li>写死大户地址。</li><li><code>requests.get</code> 每 2 秒轮询。</li><li>发现大户买入，立刻市价跟单。</li></ol><p><strong>现实的毒打：</strong><br> 上线第一天就亏了。<br> 当大户买入时，价格是 0.50。等 API 更新、等我轮询、等 Gas 确认，价格已经飞到 0.65。</p><p>我成了完美的“接盘侠”。<br><strong>教训：在链上博弈中，速度不是体验，而是利润的全部。</strong></p><h4 id="阶段二-范式转移-v2" tabindex="-1"><a class="header-anchor" href="#阶段二-范式转移-v2"><span>阶段二：范式转移 (V2)</span></a></h4><p>痛定思痛，我决定抛弃 HTTP，拥抱 WebSocket。</p><p>这不仅仅是换协议，而是架构的 <strong>Paradigm Shift</strong>：</p><ul><li><strong>V1 (Pull)</strong>：主循环控制一切，我问服务器“有新数据吗？”</li><li><strong>V2 (Push)</strong>：服务器推数据给我，我必须在 <code>on_message</code> 里毫秒级响应。</li></ul><p>延迟降到了 50ms。但新的问题出现了：<strong>状态不同步</strong>。<br> 本地计算买一价是 0.60，下单却报“价格已变动”。</p><p><strong>教训：WebSocket 只是传输层，如何处理数据的一致性才是核心挑战。</strong></p><h4 id="阶段三-从-taker-到-maker-v3" tabindex="-1"><a class="header-anchor" href="#阶段三-从-taker-到-maker-v3"><span>阶段三：从 Taker 到 Maker (V3)</span></a></h4><figure><img src="'+s+'" alt="Taker vs Maker Comparison" tabindex="0" loading="lazy"><figcaption>Taker vs Maker Comparison</figcaption></figure><p>这是最关键的转折。</p><p>我意识到&quot;跟单&quot;本质是 <strong>Taker（吃单者）</strong>。你要忍受滑点，在某些市场还要付手续费。<br> 而在流动性稀缺的预测市场，Taker 几乎必输。</p><p>我决定转向 <strong>Maker（做市商）</strong>：</p><ul><li><strong>旧逻辑</strong>：预测 Yes 会涨 -&gt; 买入 Yes。</li><li><strong>新逻辑</strong>：我不预测方向，我在 Yes 和 No 两边同时挂单，赚价差（Spread）。</li></ul><p>这一版代码变得复杂，但我第一次尝到了稳定盈利的滋味。</p><h4 id="阶段四-与-gas-的战争-v4" tabindex="-1"><a class="header-anchor" href="#阶段四-与-gas-的战争-v4"><span>阶段四：与 Gas 的战争 (V4)</span></a></h4><p>随着频率增加，我发现：<strong>赚的钱还不够付 Gas。</strong></p><p>虽然交易免 Gas，但赎回（Redeem）和合并（Merge）要钱。<br> 如果不解决这个问题，高频就是个伪命题。</p><p>我死磕了 <strong>Gnosis Safe</strong> 和 <strong>Relayer</strong>。<br> 学会了手动构建 EIP-712 签名，学会了把交易打包发给 Relayer。</p><p>当第一笔 <strong>Auto-Claim</strong> 跑通时，我知道这个系统终于能“无人值守”了。</p><h4 id="阶段五-工业化-v5" tabindex="-1"><a class="header-anchor" href="#阶段五-工业化-v5"><span>阶段五：工业化 (V5)</span></a></h4><p>现在的 V5，已经完全看不出 V1 的影子。</p><ul><li><strong>Docker 化</strong>：云端 7x24 小时运行。</li><li><strong>批量操作</strong>：Batch API 取代单次下单，效率提升 10 倍。</li><li><strong>风控体系</strong>：价格熔断、断连撤单、动态持仓上限。</li></ul><h4 id="结语" tabindex="-1"><a class="header-anchor" href="#结语"><span>结语</span></a></h4><p>回顾这段历程，最宝贵的收获不是代码，而是对<strong>市场微观结构</strong>的理解：</p><p><strong>既然无法预测未来，那就利用市场的低效，做一个安静的流动性搬运工。</strong></p><p>这，就是量化交易的魅力。</p>',36)])])}const g=t(p,[["render",i]]),h=JSON.parse('{"path":"/web3/polymarket/polymarket-bot-dev-journey.html","title":"Polymarket 量化交易实战（五）：Bot 开发纪实","lang":"zh-CN","frontmatter":{"title":"Polymarket 量化交易实战（五）：Bot 开发纪实","shortTitle":"Bot 开发纪实","date":"2025-10-29T00:00:00.000Z","categories":["量化交易","Polymarket"],"tags":["Python","Web3"],"order":6,"cover":"/covers/polymarket/polymarket-bot-dev-journey.png","description":"Polymarket 量化交易实战（五）：Bot 开发纪实 从零开始。 这是我开发 Polymarket 交易机器人的历程。 从一个只能“看天吃饭”的 Python 轮询脚本，进化成基于 Docker 的毫秒级高频做市系统。 这期间，我删掉的代码比留下的多。 阶段一：投机者的幻想 (V1) Bot Evolution TimelineBot Evolu...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Polymarket 量化交易实战（五）：Bot 开发纪实\\",\\"image\\":[\\"https://sharebravery.com/covers/polymarket/polymarket-bot-dev-journey.png\\"],\\"datePublished\\":\\"2025-10-29T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-08T06:53:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"不辞远\\",\\"url\\":\\"https://github.com/sharebravery\\"}]}"],["meta",{"property":"og:url","content":"https://sharebravery.com/web3/polymarket/polymarket-bot-dev-journey.html"}],["meta",{"property":"og:site_name","content":"不辞远的分享"}],["meta",{"property":"og:title","content":"Polymarket 量化交易实战（五）：Bot 开发纪实"}],["meta",{"property":"og:description","content":"Polymarket 量化交易实战（五）：Bot 开发纪实 从零开始。 这是我开发 Polymarket 交易机器人的历程。 从一个只能“看天吃饭”的 Python 轮询脚本，进化成基于 Docker 的毫秒级高频做市系统。 这期间，我删掉的代码比留下的多。 阶段一：投机者的幻想 (V1) Bot Evolution TimelineBot Evolu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://sharebravery.com/covers/polymarket/polymarket-bot-dev-journey.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-08T06:53:18.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://sharebravery.com/covers/polymarket/polymarket-bot-dev-journey.png"}],["meta",{"name":"twitter:image:alt","content":"Polymarket 量化交易实战（五）：Bot 开发纪实"}],["meta",{"property":"article:tag","content":"Web3"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:published_time","content":"2025-10-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-08T06:53:18.000Z"}]]},"git":{"createdTime":1770437222000,"updatedTime":1770533598000,"contributors":[{"name":"sharebravery","username":"sharebravery","email":"sharebravery@gmail.com","commits":2,"url":"https://github.com/sharebravery"}]},"readingTime":{"minutes":2.64,"words":793},"filePathRelative":"web3/polymarket/polymarket-bot-dev-journey.md","excerpt":"\\n<p><strong>从零开始。</strong></p>\\n<p>这是我开发 Polymarket 交易机器人的历程。<br>\\n从一个只能“看天吃饭”的 Python 轮询脚本，进化成基于 Docker 的毫秒级高频做市系统。</p>\\n<p>这期间，我删掉的代码比留下的多。</p>\\n<h4>阶段一：投机者的幻想 (V1)</h4>\\n<figure><figcaption>Bot Evolution Timeline</figcaption></figure>\\n<p>一切始于一个简单的想法：“跟着聪明钱买不就行了？”</p>\\n<p>V1 的逻辑非常朴素：</p>\\n<ol>\\n<li>写死大户地址。</li>\\n<li><code>requests.get</code> 每 2 秒轮询。</li>\\n<li>发现大户买入，立刻市价跟单。</li>\\n</ol>","autoDesc":true}');export{g as comp,h as data};
